<div class="container my-5">
  <div class="card shadow-sm border-0">
    <div class="card-header bg-primary text-white text-center">
      <h4 class="mb-0">Añadir Nuevo Artículo</h4>
    </div>

    <div class="card-body">
      <form #articleForm="ngForm">
        
        <!-- Nombre -->
        <div class="mb-3">
          <label for="nombre" class="form-label fw-semibold">Nombre</label>
          <input
            type="text"
            id="nombre"
            name="nombre"
            class="form-control"
            placeholder="Introduce el nombre del artículo"
            [(ngModel)]="newArticle.nombre"
            required
          />
          @if (articleForm.submitted && !newArticle.nombre) {
            <div class="text-danger small mt-1">
              El nombre es obligatorio.
            </div>
          }
        </div>

        <!-- Categoría libre -->
        <div class="mb-3">
          <label for="categoria" class="form-label fw-semibold">Categoría</label>
          <input
            type="text"
            id="categoria"
            name="categoria"
            class="form-control"
            placeholder="Introduce la categoría del artículo"
            [(ngModel)]="newArticle.categoria"
            required
          />
          @if (articleForm.submitted && !newArticle.categoria) {
            <div class="text-danger small mt-1">
              La categoría es obligatoria.
            </div>
          }
        </div>

        <!-- Descripción opcional -->
        <div class="mb-3">
          <label for="descripcion" class="form-label fw-semibold">Descripción</label>
          <textarea
            id="descripcion"
            name="descripcion"
            class="form-control"
            rows="3"
            placeholder="Describe brevemente el artículo"
            [(ngModel)]="newArticle.descripcion"
          ></textarea>
        </div>

        <!-- Unidades -->
        <div class="mb-3">
          <label for="unidades" class="form-label fw-semibold">Unidades</label>
          <input
            type="number"
            id="unidades"
            name="unidades"
            class="form-control"
            placeholder="Cantidad disponible"
            [(ngModel)]="newArticle.unidades"
            required
            min="0"
          />
          @if (articleForm.submitted && (newArticle.unidades === null || newArticle.unidades < 0)) {
            <div class="text-danger small mt-1">
              Introduce un número válido de unidades.
            </div>
          }
        </div>

        <!-- Precio -->
        <div class="mb-4">
          <label for="precio" class="form-label fw-semibold">Precio (€)</label>
          <input
            type="number"
            id="precio"
            name="precio"
            class="form-control"
            placeholder="Precio del artículo"
            [(ngModel)]="newArticle.precio"
            required
            min="0"
            step="0.01"
          />
          @if (articleForm.submitted && (newArticle.precio === null || newArticle.precio < 0)) {
            <div class="text-danger small mt-1">
              Introduce un precio válido.
            </div>
          }
        </div>

        <!-- Botones -->
        <div class="d-flex justify-content-center gap-3">
          <button (click)="submit()" class="btn btn-success px-4" routerLink="/">Guardar</button>
          <button class="btn btn-secondary px-4" routerLink="/">Cancelar</button>
        </div>
      </form>
    </div>
  </div>
</div>
